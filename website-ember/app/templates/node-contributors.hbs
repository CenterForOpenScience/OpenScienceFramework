{{eosf-project-nav node=model user=user isProjectContributor=isContributor}}

<br>
<br>

<div class="page-header visible-xs">
    <h2 class="text-300">Contributors</h2>
</div>

<div class="col-md-3 col-xs-12">
    <div class="filters">
        <input type="text" class="form-control searchable" id="nameSearch" placeholder="Filter by name">
        <h5 class="m-t-md">
            Permissions
            <i class="fa fa-question-circle permission-info" title="Permission Information"></i>
        </h5>
        <div class="btn-group btn-group-justified-vertical filtergroup" id='permissionFilter'>
            <div class="btn-group">
                <button class="filter-btn btn-default btn" id="admins">Administrator</button>
            </div>
            <div class="btn-group">
                <button class="filter-btn btn-default btn" id="write">Read + Write</button>
            </div>
            <div class="btn-group">
                <button class="filter-btn btn-default btn" id="read">Read</button>
            </div>
        </div>
        <h5 class="m-t-md">
            Bibliographic Contributor
            <i class="fa fa-question-circle visibility-info"
                data-toggle="popover"
                data-title="Bibliographic Contributor Information"
                data-container="body"
                data-placement="right"
                data-html="true"
            ></i>
        </h5>
        <div class="btn-group btn-group-justified-vertical filtergroup" id='visibleFilter'>
            <div class="btn-group">
                <button class="filter-btn btn-default btn" id='visible'>Bibliographic</button>
            </div>
            <div class="btn-group">
                <button class="filter-btn btn-default btn" id='notVisible'>Non-Bibliographic</button>
            </div>
        </div>
    </div>
</div>

<div class="col-md-9 col-xs-12">
    <div id="manageContributors" class="scripted">
        <h3>
            Contributors
            {{#if canEdit}}
                <button {{action 'toggleAddContributorModal'}} class="btn btn-success btn-sm m-l-md">
                    <i class="fa fa-plus" aria-hidden="true"></i> Add
                </button>

                {{modal-add-contribs isOpen=showModalAddContributors model=model contributors=contributors}}
            {{/if}}
        </h3>

        {{#if canEdit}}
            <p class="m-b-xs">Drag and drop contributors to change listing order.</p>
        {{/if}}

        {{!-- TODO get filtering working --}}

        <div>
            {{contributor-manager contributors=contributors currentUser=user node=model isAdmin=isAdmin canEdit=canEdit editContributors=(action 'updateContributors') removeContributor=(action 'removeContributor')}}
        </div>

        {{!-- TODO get Admins on Parent Projects working  --}}

    </div>

    {{#if isAdmin}}
        <h3 class="m-t-xl">
            View-only Links
            <a href="#addPrivateLink" data-toggle="modal" class="btn btn-success btn-sm m-l-md">
                <i class="fa fa-plus"></i> Add
            </a>
        </h3>
        <p>Create a link to share this project so those who have the link can view&mdash;but not edit&mdash;the project.</p>

        {{!-- TODO get view only links working  --}}

    {{/if}}
</div>
